"use strict";const REQUEST_SUPPORTER_CERT_URL=STORE_API_URL+"/desktop/request-supporter-cert";class SupporterCertificate{constructor(e,t,n){this._form=e,this._feedbackData=t,this._submitData=n}request(){if(!$(this._form)[0].checkValidity()){$(this._form).find(":input").addClass("show-invalid"),this._feedbackData.errorMessage="Please fill in all required fields.";return}this._feedbackData.success=!1,this._feedbackData.inProgress=!0,this._feedbackData.errorMessage="",$.ajax({url:REQUEST_SUPPORTER_CERT_URL,type:"POST",data:this._submitData}).done(e=>{this.onRequestSucceeded()}).fail(e=>{this.onRequestFailed(e.responseJSON?.message||"Requesting supporter certificate failed.")})}onRequestFailed(e){this._feedbackData.success=!1,this._feedbackData.inProgress=!1,this._feedbackData.errorMessage=e}onRequestSucceeded(){this._feedbackData.success=!0,this._feedbackData.inProgress=!1,this._feedbackData.errorMessage=""}}