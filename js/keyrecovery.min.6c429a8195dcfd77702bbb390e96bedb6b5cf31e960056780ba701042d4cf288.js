"use strict";class KeyRecovery{constructor(e,t){this._form=e,this._data=t,this._paddle=$.ajax({url:"https://cdn.paddle.com/paddle/paddle.js",cache:!0,dataType:"script"}).then(()=>(PADDLE_ENABLE_SANDBOX&&window.Paddle.Environment.set("sandbox"),window.Paddle.Setup({vendor:PADDLE_VENDOR_ID}),window.Paddle))}getUserHistory(){if(!$(this._form)[0].checkValidity()){$(this._form).find(":input").addClass("show-invalid"),this._data.errorMessage="Please fill in all required fields.";return}this._data.inProgress=!0,this._data.errorMessage="",this._data.success=!1,this._paddle.then(e=>{e.User.History(this._data.email,null,e=>{e.success?this.onGetUserHistorySucceeded(e.message):this.onGetUserHistoryFailed(e.error.message)})})}onGetUserHistoryFailed(e){this._data.success=!1,this._data.errorMessage=e,this._data.inProgress=!1}onGetUserHistorySucceeded(){this._data.success=!0,this._data.errorMessage="",this._data.inProgress=!1}}