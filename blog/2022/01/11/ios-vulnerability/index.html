<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vulnerability in iOS Version 2.0.0–2.0.3 (Please update to 2.0.4)</title>
    
      <meta name="description" content="We always claimed that if there once were a security issue with Cryptomator, we&rsquo;d be unable to hide it. Now it happened: A user reported an issue in our iOS app that we consider severe.">
      <meta property="og:title" content="Vulnerability in iOS Version 2.0.0–2.0.3 (Please update to 2.0.4)">
      <meta property="og:type" content="article" />
      <meta property="og:url" content="https://preview.cryptomator.org/blog/2022/01/11/ios-vulnerability/">
      <meta property="og:site_name" content="Cryptomator">
      <meta property="og:description" content="We always claimed that if there once were a security issue with Cryptomator, we&rsquo;d be unable to hide it. Now it happened: A user reported an issue in our iOS app that we consider severe.">
      <meta property="article:author" content="Cryptobot" />
      <meta property="article:published_time" content="2022-01-11" />
      
        <meta property="article:tag" content="cryptomator" />
      
        <meta property="article:tag" content="ios" />
      
        <meta property="article:tag" content="vulnerability" />
      
      <meta property="og:image" content="https://preview.cryptomator.org/img/logo.png" />
      <meta property="og:image:width" content="256" />
      <meta property="og:image:height" content="256" />
    
    <meta property="og:locale" content="en_US" />
    
      <meta property="og:locale:alternate" content="de_DE" />
    
    <meta name="apple-itunes-app" content="app-id=1560822163">
    
      
      <link rel="stylesheet" href="/css/main.min.0768fc2e50c20d0f0f617b2ff7e661afefac5a64c173728de1addb03fbf10145.css" integrity="sha256-B2j8LlDCDQ8PYXsv9&#43;Zhr&#43;&#43;sWmTBc3KN4a3bA/vxAUU=" media="screen" />
    
    <link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/feed.xml" />
    
      <link rel="alternate" hreflang="de" href="/de/blog/2022/01/11/ios-vulnerability/" />
    
    
      
    
  </head>
  <body class="bg-dark font-body text-gray-900">
    <div class="w-full bg-primary text-center text-sm text-white p-0.5">
  <p>Looking for an alternative to Boxcryptor after their acquisition? Cryptomator is here to stay! <a class="underline" href="/blog/2022/12/08/boxcryptor-shuts-down-find-your-cloud-encryption-alternative/">Learn more.</a></p>
</div>
<nav x-data="{ isNavOpen: false }" :class="isNavOpen ? 'relative' : 'relative'" class="w-full text-primary absolute lg:px-8 bg-white border-t-2 border-primary shadow">
  <div class="flex justify-between items-stretch w-full">
    <a class="flex items-center hover:no-underline py-2 mx-2 lg:ml-0" href="/">
      <img src="/img/logo.svg" class="h-8" alt="Logo"/>
      <span class="font-headline font-bold ml-2 pb-px">CRYPTOMATOR</span>
    </a>

    
    <ul class="hidden lg:flex items-stretch list-none m-0">
      <li class="flex items-center lg:mx-2 border-b-2 border-transparent hover:border-primary">
        <a class="p-2 hover:no-underline" href="/downloads/">Downloads</a>
      </li>
      <li class="flex items-center lg:mx-2 border-b-2 border-transparent hover:border-primary">
        <a class="p-2 hover:no-underline" href="/hub/">Cryptomator Hub</a>
      </li>
      <li x-data="{ isSupportUsDropdownOpen: false }" class="flex items-center border-b-2 border-transparent">
        <button @click="isSupportUsDropdownOpen = !isSupportUsDropdownOpen" class="whitespace-nowrap p-2">
          <span>Support Us</span>
          <i class="fas fa-chevron-down fa-fw text-xs"></i>
        </button>
        <div class="relative">
          <div x-show="isSupportUsDropdownOpen" @click.outside="isSupportUsDropdownOpen = false" x-cloak class="absolute right-0 mt-6 py-2 w-64 bg-white rounded shadow-md z-50">
            <a href="/supporter-cert/" class="block px-4 py-2 text-gray-800 hover:bg-secondary hover:text-white hover:no-underline">Supporter Certificate</a>
            <a href="/donate/" class="block px-4 py-2 text-gray-800 hover:bg-secondary hover:text-white hover:no-underline">Donate</a>
            <a href="/sponsors/" class="block px-4 py-2 text-gray-800 hover:bg-secondary hover:text-white hover:no-underline">Sponsors</a>
          </div>
        </div>
      </li>
      <li x-data="{ isLearnMoreDropdownOpen: false }" class="flex items-center border-b-2 border-transparent">
        <button @click="isLearnMoreDropdownOpen = !isLearnMoreDropdownOpen" class="whitespace-nowrap p-2">
          <span>Learn More</span>
          <i class="fas fa-chevron-down fa-fw text-xs"></i>
        </button>
        <div class="relative">
          <div x-show="isLearnMoreDropdownOpen" @click.outside="isLearnMoreDropdownOpen = false" x-cloak class="absolute right-0 mt-6 py-2 w-96 bg-white rounded shadow-md z-50">
            <a href="/open-source/" class="block px-4 py-2 text-gray-800 hover:bg-secondary hover:text-white hover:no-underline">How Open Source Strengthens Security</a>
            <a href="/encrypt-dropbox/" class="block px-4 py-2 text-gray-800 hover:bg-secondary hover:text-white hover:no-underline">Encrypt Your Dropbox</a>
            <a href="/boxcryptor-alternative/" class="block px-4 py-2 text-gray-800 hover:bg-secondary hover:text-white hover:no-underline">Alternative to Boxcryptor</a>
            <a href="/coop/" class="block px-4 py-2 text-gray-800 hover:bg-secondary hover:text-white hover:no-underline">Our Cooperation Partners</a>
            <a href="/enterprise/" class="block px-4 py-2 text-gray-800 hover:bg-secondary hover:text-white hover:no-underline">Customizations for Your Enterprise</a>
            <a href="/gdpr/" class="block px-4 py-2 text-gray-800 hover:bg-secondary hover:text-white hover:no-underline">GDPR Compliancy</a>
          </div>
        </div>
      </li>
      
      <li class="flex items-center mx-5 my-3 border-l border-primary"></li>
      
      <li x-data="{ isLangDropdownOpen: false }" class="flex items-center border-b-2 border-transparent">
        <button @click="isLangDropdownOpen = !isLangDropdownOpen" class="whitespace-nowrap p-2">
          <span>EN</span>
          <i class="fas fa-chevron-down fa-fw text-xs"></i>
        </button>
        <div class="relative">
          <div x-show="isLangDropdownOpen" @click.outside="isLangDropdownOpen = false" x-cloak class="absolute right-0 mt-6 py-2 w-48 bg-white rounded shadow-md z-50">
            <a href="/de/blog/2022/01/11/ios-vulnerability/" lang="de" class="block px-4 py-2 text-gray-800 hover:bg-secondary hover:text-white hover:no-underline">Deutsch</a>
          </div>
        </div>
      </li>
      <li class="flex items-center border-b-2 border-transparent">
        <a class="p-2 hover:no-underline" href="https://twitter.com/Cryptomator" target="_blank" rel="noopener"><i class="fab fa-twitter fa-fw" aria-label="Twitter"></i></a>
      </li>
      <li class="flex items-center border-b-2 border-transparent">
        <a class="p-2 hover:no-underline" href="https://github.com/cryptomator" target="_blank" rel="noopener"><i class="fab fa-github fa-fw" aria-label="GitHub"></i></a>
      </li>
    </ul>
    
    
    <button @click="isNavOpen = !isNavOpen" type="button" class="self-center lg:hidden border border-primary rounded px-2 py-1 mx-2" aria-label="Toggle Navigation">
      <i x-show="isNavOpen" class="fas fa-times fa-fw"></i>
      <i x-show="!isNavOpen" class="fas fa-bars fa-fw"></i>
    </button>
  </div>
  
  
  <div :class="isNavOpen ? 'block' : 'hidden'" x-cloak class="lg:hidden">
    <a class="block py-2 mx-2 hover:text-secondary hover:no-underline" href="/downloads/">Downloads</a>
    <a class="block py-2 mx-2 hover:text-secondary hover:no-underline" href="/hub/">Cryptomator Hub</a>
    
    <hr class="border-primary my-2"/>

    <div class="uppercase tracking-wide text-gray-500 text-xs font-bold p-2">
      Support Us
    </div>
    <div class="mt-1">
      <a class="block py-2 mx-2 hover:text-secondary hover:no-underline" href="/supporter-cert/">Supporter Certificate</a>
      <a class="block py-2 mx-2 hover:text-secondary hover:no-underline" href="/donate/">Donate</a>
      <a class="block py-2 mx-2 hover:text-secondary hover:no-underline" href="/sponsors/">Sponsors</a>
    </div>
    
    <hr class="border-primary my-2"/>

    <div class="uppercase tracking-wide text-gray-500 text-xs font-bold p-2">
      Learn More
    </div>
    <div class="mt-1">
      <a class="block py-2 mx-2 hover:text-secondary hover:no-underline" href="/open-source/">How Open Source Strengthens Security</a>
      <a class="block py-2 mx-2 hover:text-secondary hover:no-underline" href="/encrypt-dropbox/">Encrypt Your Dropbox</a>
      <a class="block py-2 mx-2 hover:text-secondary hover:no-underline" href="/boxcryptor-alternative/">Alternative to Boxcryptor</a>
      <a class="block py-2 mx-2 hover:text-secondary hover:no-underline" href="/coop/">Our Cooperation Partners</a>
      <a class="block py-2 mx-2 hover:text-secondary hover:no-underline" href="/enterprise/">Customizations for Your Enterprise</a>
      <a class="block py-2 mx-2 hover:text-secondary hover:no-underline" href="/gdpr/">GDPR Compliancy</a>
    </div>

    <hr class="border-primary my-2"/>
    
    <div class="uppercase tracking-wide text-gray-500 text-xs font-bold p-2">
      <i class="fas fa-globe fa-fw"></i> EN
    </div>
    <div class="mt-1">
      
      <a href="/de/blog/2022/01/11/ios-vulnerability/" lang="de" class="block px-2 py-1 hover:text-secondary hover:no-underline">Deutsch</a>
      
    </div>
    
    <hr class="border-primary my-2"/>
    
    <a class="block p-2 hover:text-secondary hover:no-underline" href="https://twitter.com/Cryptomator" target="_blank" rel="noopener">
      <i class="fab fa-twitter fa-fw"></i>
      <span>Cryptomator on Twitter</span>
    </a>
    <a class="block p-2 hover:text-secondary hover:no-underline" href="https://github.com/cryptomator" target="_blank" rel="noopener">
      <i class="fab fa-github fa-fw"></i>
      <span>Cryptomator on GitHub</span>
    </a>
  </div>
</nav>

    <div class="bg-gray-100 min-vh-80">
    
    
  <div class="container-prose py-12">
    <article class="mb-12">
      <header class="mb-6">
        <div class="prose prose-sm md:prose max-w-none md:max-w-none mb-4">
          <h1><a href="/blog/">Blog</a> / Vulnerability in iOS Version 2.0.0–2.0.3 (Please update to 2.0.4)</a></h1>
        </div>
        <div class="flex items-center mb-4">
          
          <span><a class="text-primary no-underline hover:underline" href="/blog/2022/01/11/ios-vulnerability/">2022-01-11</a></span>
        </div>
        
      </header>

      <hr class="my-8"/>

      <div class="prose prose-sm md:prose max-w-none md:max-w-none">
        <p>We always claimed that if there once were a security issue with Cryptomator, we&rsquo;d be unable to hide it. Now it happened: A user reported an issue in our iOS app that we consider severe.</p>
<p>While such issues can happen in any type of project (as recently demonstrated by infamous bugs in log4j and Exchange), users of open-source software can at least rely on known vulnerabilities not being kept secret for marketing purposes.</p>
<p>In this spirit, we want to share with you all the details of this vulnerability.</p>
<h2 id="what-happened">What happened?</h2>
<p>When decrypting files for the iOS Files app, the cleartext file needs to be physically stored on the file system and a path leading to this file is handed over to the Files app.</p>
<p>If iCloud Backup is enabled on this device, the cleartext file is included in the backup, effectively leaking it to Apple.</p>
<h2 id="what-files-are-affected">What files are affected?</h2>
<p>Only files that you actually opened from within the Files app have been decrypted. All remaining vault contents are unaffected.</p>
<p>Furthermore, the device needs to have made an iCloud Backup while a vulnerable version has been in use (2.0.0 released 2021-12-21, fixed in 2.0.4 released 2021-12-26).</p>
<p>If iCloud Backup is disabled, no decrypted files left your device.</p>
<h2 id="can-leaked-files-be-deleted-from-existing-backups">Can leaked files be deleted from existing backups?</h2>
<p>While we don&rsquo;t know how reliably Apple erases data, you can in fact <a href="https://support.apple.com/en-us/HT204247">exclude individual apps from iCloud Backup and remove existing backups</a>.</p>
<h2 id="when-was-the-vulnerability-reported">When was the vulnerability reported?</h2>
<p>The issue was <a href="https://community.cryptomator.org/t/security-issue-with-ios-app-cache-mechanism-and-icloud-backup/9167">reported by a community member on 2021-12-25 at 13:15h UTC</a>.</p>
<h2 id="when-was-the-vulnerability-fixed">When was the vulnerability fixed?</h2>
<p>We <a href="https://github.com/cryptomator/ios/commit/37293a5408f48fe8e7df01b52cd436ed46af36d5">committed a fix two hours later at 15:28h UTC</a> and submitted the app to Apple immediately. Apple released the fixed version 2.0.4 on the next day.</p>
<h2 id="are-vaults-located-on-icloud-still-encrypted">Are vaults located on iCloud still encrypted?</h2>
<p>Yes, the vaults themselves are still fully protected, regardless of which cloud storage is being used.</p>
<h2 id="why-is-there-decrypted-data-in-the-first-place">Why is there decrypted data in the first place?</h2>
<p>At some point, you need to have cleartext data, otherwise you can’t work with them. Cryptomator is fully integrated into the Files app, which means that it is bound to and limited by the File Provider Extension API. It requires to have readable (cleartext) data readily available. Keep in mind that Cryptomator’s <a href="https://docs.cryptomator.org/en/latest/security/security-target/">target is to ensure privacy in the cloud</a> and not on the device itself.</p>
<h2 id="are-there-any-other-plans-regarding-the-local-cache">Are there any other plans regarding the local cache?</h2>
<p>We are currently investigating if we can shorten the lifetime of decrypted data. As mentioned before, mechanisms that affect the File Provider Extension are out of our hands. But for example, <a href="https://github.com/cryptomator/ios/issues/108">clearing the cache after the vault has been locked</a> in combination with <a href="https://github.com/cryptomator/ios/issues/64">auto-lock</a> can certainly be helpful if you’d like to tighten the longevity of decrypted data.</p>
<h2 id="how-does-the-development-team-make-sure-to-avoid-issues">How does the development team make sure to avoid issues?</h2>
<p>While claiming to write bug-free software would be a blatant lie, we can promise to do our best to avoid such vulnerabilities.</p>
<p>But all the best practices, automated code analysis, highest test coverage and consulting external experts doesn&rsquo;t help to rule out all possibilities, especially when caused by interaction with a third-party tool.</p>
<p>The rewritten iOS app has been tested by more than 2,300 beta testers over a period of half a year. After all, it was just very bad luck that this issue has not been discovered during this beta.</p>

      </div>
    </article>

    <div id="discourse-comments"></div>
  </div>

  <script type="text/javascript" x-url="https://preview.cryptomator.org/blog/2022/01/11/ios-vulnerability/">
    var url = document.currentScript.getAttribute('x-url');
    DiscourseEmbed = { discourseUrl: 'https://community.cryptomator.org/', discourseEmbedUrl: url };
    (function() {
      var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
      d.src = DiscourseEmbed.discourseUrl + 'javascripts/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
    })();
  </script>

    </div>
    <footer class="border-t-2 border-secondary pt-8 pb-16">
  <section class="container text-white font-light leading-loose grid grid-cols-2 gap-x-6 gap-y-8 md:grid-cols-3 lg:grid-cols-5">
    <div>
      <h4 class="block uppercase tracking-wide text-gray-400 text-xs font-bold mb-2">Cryptomator</h4>
      <ul class="list-none m-0">
        <li><a class="text-white hover:text-secondary hover:no-underline" href="/blog/">Blog</a></li>
        <li><a class="text-white hover:text-secondary hover:no-underline" href="https://cryptomator.redbubble.com/" target="_blank" rel="noopener">Merchandise</a></li>
        <li><a class="text-white hover:text-secondary hover:no-underline" href="/presskit/">Press Kit</a></li>
      </ul>
    </div>
    
    <div>
      <h4 class="block uppercase tracking-wide text-gray-400 text-xs font-bold mb-2">Contribute</h4>
      <ul class="list-none m-0">
        <li><a class="text-white hover:text-secondary hover:no-underline" href="https://github.com/cryptomator" target="_blank" rel="noopener">GitHub</a></li>
        <li><a class="text-white hover:text-secondary hover:no-underline" href="/donate/">Donate</a></li>
        <li><a class="text-white hover:text-secondary hover:no-underline" href="https://translate.cryptomator.org/" target="_blank" rel="noopener">Translate</a></li>
      </ul>
    </div>
    
    <div>
      <h4 class="block uppercase tracking-wide text-gray-400 text-xs font-bold mb-2">Support</h4>
      <ul class="list-none m-0">
        <li><a class="text-white hover:text-secondary hover:no-underline" href="https://docs.cryptomator.org/" target="_blank" rel="noopener">Docs</a></li>
        <li><a class="text-white hover:text-secondary hover:no-underline" href="https://community.cryptomator.org/" target="_blank" rel="noopener">Community</a></li>
        <li><a class="text-white hover:text-secondary hover:no-underline" href="/contact/">Contact</a></li>
      </ul>
    </div>
    
    <div>
      <h4 class="block uppercase tracking-wide text-gray-400 text-xs font-bold mb-2">Follow Us</h4>
      <ul class="list-none m-0">
        <li><a class="text-white hover:text-secondary hover:no-underline" href="https://twitter.com/Cryptomator" target="_blank" rel="noopener">Twitter</a></li>
        <li><a class="text-white hover:text-secondary hover:no-underline" href="https://mastodon.online/@cryptomator" target="_blank" rel="noopener me">Fediverse</a></li>
        <li><a class="text-white hover:text-secondary hover:no-underline" href="/feed.xml" rel="alternate" type="application/rss+xml">RSS Feed</a></li>
      </ul>
    </div>
    
    <div>
      <h4 class="block uppercase tracking-wide text-gray-400 text-xs font-bold mb-2">Legal</h4>
      <ul class="list-none m-0">
        <li><a class="text-white hover:text-secondary hover:no-underline" href="/impressum/">Impressum</a></li>
        <li><a class="text-white hover:text-secondary hover:no-underline" href="/privacy/">Privacy Policy</a></li>
        <li><a class="text-white hover:text-secondary hover:no-underline" href="/terms/">Terms &amp; Conditions</a></li>
      </ul>
    </div>
  </section>
</footer>


    
    <script type="text/javascript" src="/js/jquery/jquery.min.ff1523fb7389539c84c65aba19260648793bb4f5e29329d2ee8804bc37a3fe6e.js" integrity="sha256-/xUj&#43;3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="></script>

    
    <script type="text/javascript" src="/js/alpinejs/cdn.min.d1573a45c19419ee881d3f7e6d6810bb955ea0d64470da1f1875537de18c603e.js" integrity="sha256-0Vc6RcGUGe6IHT9&#43;bWgQu5VeoNZEcNofGHVTfeGMYD4=" defer></script>

    
    <script type="text/javascript" src="/js/lazysizes/lazysizes.min.3d9120fa621da6d613c1698b7014ec6bdf4620366e8f2b7b547059f4b6f6272b.js" integrity="sha256-PZEg&#43;mIdptYTwWmLcBTsa99GIDZujyt7VHBZ9Lb2Jys=" async></script>
  </body>
</html>
